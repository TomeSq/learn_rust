---
applyTo: "**/*.rs"
---

## 高品質なコーディングガイドライン

### 可読性

- コードは明確で理解しやすくする。
- 変数や関数には説明的な名前をつける。
- 一貫性のあるフォーマットを維持。
- コメントやドキュメントを活用し、意図を明確に。
- 実装コードは省略せず完全な形で提供
- サイクロマティック複雑度を 5 以下にすること
- 1 メソッド、24 行以内程度に収め、必要ならメソッドを分割すること。

### 効率性

- パフォーマンスを最適化。
- 冗長な処理を避ける。
- 適切なアルゴリズムとデータ構造を選択。
- メモリと CPU の使用を最小限に抑える。
- 早期リターンを活用し、分岐をフラット化。

### モジュール性

- コードを論理的な関数やクラスに分割。
- 単一責任の原則を守る。
- モジュール間の依存度を低く保つ。
- 明確なインターフェースを定義。

### 拡張性

- 変更や新機能の追加が容易な設計を行う。
- OCP（オープン・クローズドの原則）を適用。
- 依存性の注入（DI）を活用し、依存関係を管理。
- 設計パターンを適切に使用し、保守性を向上。

### スコープベースのリソース管理（Scope-Based Resource Management, SBRM）

- スコープを抜ける際に自動的にリソースを開放する設計を採用する。
- 手動でのリソース管理を極力避け、メモリリークやリソース枯渇を防ぐ。
- OS や外部システムリソース（ファイル、ネットワーク接続、データベース接続など）を適切に管理し、予期しない障害を回避する。
- try/finally や defer を利用し、例外発生時でも確実にリソースを開放する。

### コメント

- 関数コメントは rustdoc 形式で書くこと
- 関数内コメントは適度にブロック単位で記述すること
- コメントは日本語で記述すること
